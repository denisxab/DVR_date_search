## Что это ?
Программа для поиска даты в поврежденных видео файлов. Например как было у меня, видео регистратор начал записывать 
видео файлы друг на друга и все даты перепутались, а мне нужно было найти фрагмент видео из 500 файлов с суммарной продолжительностью
20 часов. И чтобы не выполнять лично процесс по поиску видео фрагмента, я написал эту программу.     

##Установка
1. [Скачать Tesseract](https://github.com/UB-Mannheim/tesseract/wiki)
2. Установить [зависимости](##Зависимости)
## Настройка
```python
# Указать путь к установленному Tesseract
pytesseract.pytesseract.tesseract_cmd = r"C:\Program Files\Tesseract-OCR\tesseract" 

# Имя папки с видео файлами
RED_PATH = "D:\mv\Recoverit 2021-07-31 at 21.50.08\Lost Partition 2_1(FAT32)\Lost Location\FRONT\\" 

# Папка в которую будут записаны тестовые кадры и найдены совпадения
WRITE_PATH = "test1\\"

# Указать координаты участка с датой. Для теста координат использовать функцию testCapCaddr()
Y = 685  # Вертикаль
X = 775  # Горизонталь
H = 300  # высота
W = 330  # ширина
```


## Использование

1. Указать первым параметром сколько кадров будет прописаться. Это нужно для ускорения поиска. 
Рекомендую указать 60 - 80 `fps_skip` или что равно проверять каждую 2 секунду
2. Указать списком дату которую нужно найти. Лучше указывать дату не точно, потому что распознавание текста не идеально 
30% шанс что кадр не распознается поэтому лучше указать приблизительную дату, в данном примере будет искаться видео
в которой дата соответствует `2020.07.30 и любое время видое котрое снято в этот день` 
можно указать `["2020", "07", "30","15"]` и это значит `2020.07.30 и все видео которые были сняты в 15 часов` 
```python
if __name__ == '__main__':
    capCaddr(70, ["2020", "07", "30"])
```


## Пример вывода найденных кадров с датой
![1](https://i.imgur.com/25kyFTi.jpeg)



## Зависимости 
```cmd
pytesseract
open-cv
```

## Вспомогательная информация
[Документайия pytesseract](https://pypi.org/project/pytesseract/)
